#!/usr/bin/env bash
set -euo pipefail

echo "Running go vet..."
go vet ./...

echo "Running gosec..."
if ! command -v gosec &> /dev/null; then
    echo "gosec not found, installing..."
    go install github.com/securego/gosec/v2/cmd/gosec@latest
fi
gosec ./...

echo "All pre-commit checks passed."
